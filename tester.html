<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Вход в аккаунт</title>
</head>
<body>
  <div><h1>Hello, Bot!</h1></div>
  <script>
    async function polling(offset = 0) {
      const token = "6351302491:AAGReWD3gXVrdOC7AwVt-9OdKlwaxBk895w"; // Замени на свой токен
      const apiUrl = `https://api.telegram.org/bot${token}`;
      
      try {
        // Запрос обновлений
        const response = await fetch(`${apiUrl}/getUpdates?offset=${offset}`);
        const data = await response.json();

        if (data.ok) {
          const updates = data.result;

          for (let update of updates) {
            const message = update.message;
            if (message.text === "/start") {
              // Отправляем ответ
              await fetch(`${apiUrl}/sendMessage?chat_id=${message.chat.id}&text=Привет!`);
            }
            // Обновляем offset, чтобы обработать только новые сообщения
            offset = update.update_id + 1;
          }
        }
      } catch (error) {
        console.error("Ошибка при запросе:", error);
      }

      // Рекурсивный вызов с задержкой
      setTimeout(() => polling(offset), 1000);
    }

    // Запуск функции
    polling();
  </script>
</body>
</html>
